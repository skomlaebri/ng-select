{"version":3,"file":"ng-select-ng-option-highlight.mjs","sources":["../../../src/ng-option-highlight/lib/ng-option-highlight.directive.ts","../../../src/ng-option-highlight/lib/ng-option-highlight.module.ts","../../../src/ng-option-highlight/public-api.ts","../../../src/ng-option-highlight/ng-select-ng-option-highlight.ts"],"sourcesContent":["import * as searchHelper from './search-helper';\nimport {\n    AfterViewInit,\n    Directive,\n    ElementRef,\n    Input,\n    OnChanges,\n    Renderer2\n} from '@angular/core';\n\n@Directive({\n    selector: '[ngOptionHighlight]'\n    })\nexport class NgOptionHighlightDirective implements OnChanges, AfterViewInit {\n\n    @Input('ngOptionHighlight') term: string;\n\n    private element: HTMLElement;\n    private label: string;\n\n    constructor(\n        private elementRef: ElementRef,\n        private renderer: Renderer2) {\n        this.element = this.elementRef.nativeElement;\n    }\n\n    ngOnChanges() {\n        if (this._canHighlight) {\n            this._highlightLabel();\n        }\n    }\n\n    ngAfterViewInit() {\n        this.label = this.element.innerHTML;\n        if (this._canHighlight) {\n            this._highlightLabel();\n        }\n    }\n\n    private _escapeRegExp(str: string): string {\n        return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    }\n\n    private _highlightLabel() {\n        const label = this.label;\n        if (!this.term) {\n            this._setInnerHtml(label);\n            return;\n        }\n\n        const alternationString = this._escapeRegExp(this.term).replace(' ', '|');\n        const termRegex = new RegExp(alternationString, 'gi');\n        this._setInnerHtml(label.replace(termRegex, `<span class=\\\"highlighted\\\">$&</span>`))\n    }\n\n    private get _canHighlight() {\n        return this._isDefined(this.term) && this._isDefined(this.label);\n    }\n\n    private _setInnerHtml(html) {\n        this.renderer.setProperty(this.elementRef.nativeElement, 'innerHTML', html);\n    }\n\n    private _isDefined(value: any) {\n        return value !== undefined && value !== null;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { NgOptionHighlightDirective } from './ng-option-highlight.directive';\n\n@NgModule({\n    declarations: [NgOptionHighlightDirective],\n    exports: [NgOptionHighlightDirective]\n    })\nexport class NgOptionHighlightModule {}\n","/*\n * Public API Surface of ng-option-highlight\n */\n\nexport * from './lib/ng-option-highlight.directive';\nexport * from './lib/ng-option-highlight.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;MAaa,0BAA0B,CAAA;IAOnC,WACY,CAAA,UAAsB,EACtB,QAAmB,EAAA;QADnB,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;QACtB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAW;QAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;KAChD;IAED,WAAW,GAAA;QACP,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,eAAe,EAAE,CAAC;AAC1B,SAAA;KACJ;IAED,eAAe,GAAA;QACX,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QACpC,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,eAAe,EAAE,CAAC;AAC1B,SAAA;KACJ;AAEO,IAAA,aAAa,CAAC,GAAW,EAAA;QAC7B,OAAO,GAAG,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;KACrD;IAEO,eAAe,GAAA;AACnB,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;AACZ,YAAA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO;AACV,SAAA;AAED,QAAA,MAAM,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAC1E,MAAM,SAAS,GAAG,IAAI,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;AACtD,QAAA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,CAAA,qCAAA,CAAuC,CAAC,CAAC,CAAA;KACxF;AAED,IAAA,IAAY,aAAa,GAAA;AACrB,QAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACpE;AAEO,IAAA,aAAa,CAAC,IAAI,EAAA;AACtB,QAAA,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;KAC/E;AAEO,IAAA,UAAU,CAAC,KAAU,EAAA;AACzB,QAAA,OAAO,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,CAAC;KAChD;;uHApDQ,0BAA0B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,SAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;2GAA1B,0BAA0B,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,CAAA,mBAAA,EAAA,MAAA,CAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;2FAA1B,0BAA0B,EAAA,UAAA,EAAA,CAAA;kBAHtC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,qBAAqB;AAC9B,iBAAA,CAAA;yHAG2B,IAAI,EAAA,CAAA;sBAA/B,KAAK;uBAAC,mBAAmB,CAAA;;;MCRjB,uBAAuB,CAAA;;oHAAvB,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;qHAAvB,uBAAuB,EAAA,YAAA,EAAA,CAHjB,0BAA0B,CAAA,EAAA,OAAA,EAAA,CAC/B,0BAA0B,CAAA,EAAA,CAAA,CAAA;qHAE3B,uBAAuB,EAAA,CAAA,CAAA;2FAAvB,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAJnC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;oBACN,YAAY,EAAE,CAAC,0BAA0B,CAAC;oBAC1C,OAAO,EAAE,CAAC,0BAA0B,CAAC;AACpC,iBAAA,CAAA;;;ACNL;;AAEG;;ACFH;;AAEG;;;;"}